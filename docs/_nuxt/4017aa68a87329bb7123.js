(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[7],{432:function(t,e,o){"use strict";o.r(e);o(10),o(36),o(40),o(3),o(8),o(43),o(6),o(4),o(202);var n=o(2),r={name:"Recognition",props:{image:{required:!0},correlationId:{required:!0},uploaded:{required:!0,default:"done"},recognized:{required:!0},found:{required:!0},notified:{required:!0}},data:function(){return{}},computed:{uploadedClass:function(){return"start"===this.uploaded?"info":"done"===this.uploaded?"success":"fail"===this.uploaded?"error":""},recognizedClass:function(){return"start"===this.recognized?"info":"done"===this.recognized?"success":"fail"===this.recognized?"error":""},foundClass:function(){return"start"===this.found?"info":"done"===this.found?"success":"fail"===this.found?"error":""},notifiedClass:function(){return"start"===this.notified?"info":"done"===this.notified?"success":"fail"===this.notified?"error":""}}},c=o(61),l=o(85),d=o.n(l),f=o(340),v=o(338),h=o(369),m=o(437),_=o(124),y=o(110),C=o(427),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("v-img",{attrs:{src:t.image}}),t._v(" "),o("v-card-actions",[o("v-chip-group",[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-chip",t._g({class:t.uploadedClass},n),[o("v-icon",[t._v("cloud_upload")])],1)]}}])},[t._v(" "),o("span",[t._v(t._s(t.$t("recognize.status.uploaded")))])]),t._v(" "),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-chip",t._g({class:t.recognizedClass},n),[o("v-icon",[t._v("image_search")])],1)]}}])},[t._v(" "),o("span",[t._v(t._s(t.$t("recognize.status.recognized")))])]),t._v(" "),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-chip",t._g({class:t.foundClass},n),[o("v-icon",[t._v("search")])],1)]}}])},[t._v(" "),o("span",[t._v(t._s(t.$t("recognize.status.found")))])]),t._v(" "),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-chip",t._g({class:t.notifiedClass},n),[o("v-icon",[t._v("speaker_notes")])],1)]}}])},[t._v(" "),o("span",[t._v(t._s(t.$t("recognize.status.notified")))])])],1)],1)],1)}),[],!1,null,"11845ff0",null),O=component.exports;d()(component,{VCard:f.a,VCardActions:v.a,VChip:h.a,VChipGroup:m.a,VIcon:_.a,VImg:y.a,VTooltip:C.a});var V=o(57);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var D={components:{Recognition:O},data:function(){return{search:{fail:!0,completed:!0},deleteAllDialog:!1}},computed:z({},Object(V.d)({recognitions:function(t){return t.recognition.recognitions}}),{filteredRecognitions:function(){var t=this;return this.recognitions.filter((function(e){return!(!t.search.fail&&t.hasFail(e.status.map((function(s){return s.code}))))&&!(!t.search.completed&&t.isCompleted(e))}))},reversedFilteredRecognitions:function(){return this.filteredRecognitions.reverse()},changedFilter:function(){return!this.search.fail||!this.search.completed}}),methods:z({},Object(V.b)({removeRecognition:"recognition/removeAndSaveRecognition"}),{uploaded:function(t){return"done"},recognized:function(t){return this.getStatus(t,"image-recognizer")},found:function(t){return this.getStatus(t,"text-mapper")},notified:function(t){return this.getStatus(t,"notifier")},hasFail:function(t){return t.filter((function(t){return 500===t||404===t})).length>=1},hasDone:function(t){return t.filter((function(t){return 200===t})).length>=1},isCompleted:function(t){var e={},o=!0,n=!1,r=void 0;try{for(var c,l=t.status[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;e[d.source]||(e[d.source]=[]),e[d.source].push(d.code)}}catch(t){n=!0,r=t}finally{try{o||null==l.return||l.return()}finally{if(n)throw r}}for(var f=0,v=Object.keys(e);f<v.length;f++){var source=v[f];if(!this.hasDone(e[source]))return!1}return!0},getStatus:function(t,source){var e=t.status.filter((function(s){return s.source.includes(source)})).map((function(s){return s.code}));return this.hasFail(e)?"fail":this.hasDone(e)?"done":e.filter((function(t){return 202===t})).length>=1?"start":null},onDeleteCompleted:function(){var t=this;this.recognitions.filter((function(e){return t.isCompleted(e)})).map((function(t){return t.correlationId})).forEach((function(e){return t.removeRecognition(e)}))},onDeleteAll:function(){var t=this;this.deleteAllDialog=!1,this.recognitions.map((function(t){return t.correlationId})).forEach((function(e){return t.removeRecognition(e)}))}})},j=o(194),x=o(428),$=o(391),w=o(429),S=o(392),A=o(125),I=o(81),R=o(374),F=o(436),P=o(30),E=o(137),T=Object(c.a)(D,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-layout",{attrs:{column:"","justify-center":""}},[o("v-flex",{attrs:{xs12:""}},t._l(t.reversedFilteredRecognitions,(function(e){return o("Recognition",{key:e.correlationId,attrs:{image:e.image,correlationId:e.correlationId,uploaded:t.uploaded(e),recognized:t.recognized(e),found:t.found(e),notified:t.notified(e)}})})),1),t._v(" "),o("v-dialog",{attrs:{"max-width":"290"},model:{value:t.deleteAllDialog,callback:function(e){t.deleteAllDialog=e},expression:"deleteAllDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("common.confirmation.title")))]),t._v(" "),o("v-card-text",[t._v(t._s(t.$t("recognize.delete.all.confirmation")))]),t._v(" "),o("v-card-actions",[o("div",{staticClass:"flex-grow-1"}),t._v(" "),o("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.onDeleteAll()}}},[t._v("\n          "+t._s(t.$t("common.confirmation.agree"))+"\n        ")]),t._v(" "),o("v-btn",{on:{click:function(e){t.deleteAllDialog=!1}}},[t._v("\n          "+t._s(t.$t("common.confirmation.disagree"))+"\n        ")])],1)],1)],1),t._v(" "),o("v-footer",{staticClass:"pa-0",attrs:{app:""}},[o("v-toolbar",{attrs:{dense:""}},[o("div",{staticClass:"flex-grow-1"}),t._v(" "),o("v-toolbar-items",[o("v-menu",{attrs:{"offset-y":"",top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({},n),[o("v-icon",[t._v("delete")])],1)]}}])},[t._v(" "),o("v-list",[o("v-list-item",[o("v-btn",{attrs:{block:""},on:{click:function(e){return t.onDeleteCompleted()}}},[o("v-icon",{attrs:{color:"success"}},[t._v("done")]),t._v("\n                "+t._s(t.$t("recognize.delete.completed"))+"\n              ")],1)],1),t._v(" "),o("v-list-item",[o("v-btn",{attrs:{block:""},on:{click:function(e){e.stopPropagation(),t.deleteAllDialog=!0}}},[o("v-icon",{attrs:{color:"error"}},[t._v("done_all")]),t._v("\n                "+t._s(t.$t("recognize.delete.all.text"))+"\n              ")],1)],1)],1)],1),t._v(" "),o("v-menu",{attrs:{"offset-y":"",top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({attrs:{color:t.changedFilter?"info":""}},n),[o("v-icon",[t._v("search")])],1)]}}])},[t._v(" "),o("v-list",[o("v-list-item",[o("v-switch",{attrs:{label:t.$t("recognize.filter.fail"),color:"success"},model:{value:t.search.fail,callback:function(e){t.$set(t.search,"fail",e)},expression:"search.fail"}})],1),t._v(" "),o("v-list-item",[o("v-switch",{attrs:{label:t.$t("recognize.filter.completed"),color:"success"},model:{value:t.search.completed,callback:function(e){t.$set(t.search,"completed",e)},expression:"search.completed"}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=T.exports;d()(T,{VBtn:j.a,VCard:f.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:x.a,VFlex:$.a,VFooter:w.a,VIcon:_.a,VLayout:S.a,VList:A.a,VListItem:I.a,VMenu:R.a,VSwitch:F.a,VToolbar:P.a,VToolbarItems:E.a})}}]);